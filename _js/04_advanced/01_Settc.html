<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Set type</title>
</head>
<body>
  <h1>
    자바스크립트에 데이터 타입의 확장개념으로 집합데이터를 다룰 수 있는 객체를 만듬
  </h1>
  <ul>
    <li>
      set 안에 중복데이터는 허용하지 않음 : 단 중복검사 후 존재하는 데이터는 최초의 데이터만 저장함
    </li>
    <li>      
      Set() : 객체로 개념화 후 자바스크립트 내부에 클래스를 정의하고 그 클래스를 코드로 인스턴스화 할 수 있게 만든 구현체
    </li>
    <li>
      파라미터 : 배열을 주로 사용한다 : 배열의 인덱스와 값을 활용하여 집합데이터를 만든다고 생각하면 됨
    </li>    
    <li>
      배열과 비슷하지만 set의 전용 메서드들이 존재하기 때문에 별도로 학습을 해두어야 함
    </li>
  </ul>
  <img src="images/01_Set_methods.PNG" alt="" style="width: 50%;">
  <ol>
    <li>
      new Set() or new Set(배열) : Set 객체 생성 및 초기화
    </li>
    <li>
      set => s : s.add(데이터) : 값 추가
    </li>
    <li>
      s.delete(데이터) : 값 삭제
    </li>
    <li>
      s.has(데이터) : 값 존재 여부
    </li>
    <li>
      s.forEach(callback function) : Set 순환
    </li>
    <li>
      s.entries(), s.keys(),s.values() : Set의 키:값, 키, 값을 추출 : 리턴 타입은 SetIterator : 별도의 메서드를 사용하여 SetIterator에 접근해야 함
    </li>
    <li>
      s.size : Set이 갖고 있는 데이터의 개수
    </li>
    <li>
      Set은 getter를 제공하지 않으므로 forEach를 사용하여 개별값에 접근해야함
    </li>
  </ol>
  <script>
      const testSet = new Set(['html', 'css', 'js']);
      testSet.add('react');

      console.log(testSet);
      console.log(testSet.size);

      testSet.delete('html');
      console.log(testSet);

      testSet.add('react'); // 중복 값이여서 저장이 안됨
      console.log(testSet);

      console.log(testSet.has('html'));
      console.log(testSet.has('css'));
      console.log(testSet.has());
      
      testSet.forEach(function(value, index, self){
        console.log(index, value, self); 
      });
      // entries, keys, values의 리턴타입은 SetIterator : Set의 상위 인터페이스(규격)
      // entries() : 내부의 타입에 접근하여 pair 값을 가져온다
      console.log(testSet.entries());
      // keys() : 식별자로 사용하는 값을 리턴
      console.log(testSet.keys());
      // values() : 내부 값 리턴
      console.log(testSet.values());
      
      console.log("====================");
      for (const iter of testSet.entries()) {
       // iter는 배열
       iter.forEach(function(v,i,s){
        console.log(i, v);
       });
      }
      console.log("----------------------");
      for (const iter of testSet.keys()) {
        console.log(iter);
      }

      // key는 SetIterator의 값      
      console.log(testSet.keys());
      for (const key of testSet.keys()) {
        console.log(key);
      }
      // values()도 keys() 메서드의 리턴타입과 동일
      console.log(testSet.values());
      for (const value of testSet.values()) {
        console.log(value);
      }
      console.log("====================");
      
      testSet.clear(); // 리턴 값 없음
      console.log(testSet.size);
     
      
  </script>
</body>
</html>